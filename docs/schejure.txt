# sisc scheme + clojure...

# More seriously, this is an example of setting up clojure, datomic, sisc, jtds and a xmpp library.

export CLASSPATH=/home/igorhvr/idm/xmpp/www.igniterealtime.org/bin/smack_3_2_2/smack.jar:/home/igorhvr/idm/xmpp/www.igniterealtime.org/bin/smack_3_2_2/smackx.jar:/home/igorhvr/idm/xmpp/www.igniterealtime.org/bin/smack_3_2_2/smackx-jingle.jar:/home/igorhvr/idm/xmpp/www.igniterealtime.org/bin/smack_3_2_2/smackx-debug.jar:/home/igorhvr/squirrel-sql/lib/jtds-1.2.5.jar::/home/igorhvr/tmp/datomic/datomic-free-0.8.3551/lib/spymemcached-2.8.1.jar:/home/igorhvr/tmp/datomic/datomic-free-0.8.3551/lib/httpclient-4.2-alpha1.jar:/home/igorhvr/tmp/datomic/datomic-free-0.8.3551/lib/log4j-over-slf4j-1.6.4.jar:/home/igorhvr/tmp/datomic/datomic-free-0.8.3551/lib/ring-jetty-adapter-1.1.1.jar:/home/igorhvr/tmp/datomic/datomic-free-0.8.3551/lib/moustache-1.1.0.jar:/home/igorhvr/tmp/datomic/datomic-free-0.8.3551/lib/httpcore-4.2-alpha2.jar:/home/igorhvr/tmp/datomic/datomic-free-0.8.3551/lib/guava-12.0.1.jar:/home/igorhvr/tmp/datomic/datomic-free-0.8.3551/lib/data.csv-0.1.2.jar:/home/igorhvr/tmp/datomic/datomic-free-0.8.3551/lib/jetty-servlet-7.6.5.v20120716.jar:/home/igorhvr/tmp/datomic/datomic-free-0.8.3551/lib/async-http-client-1.7.6.jar:/home/igorhvr/tmp/datomic/datomic-free-0.8.3551/lib/commons-pool-1.5.6.jar:/home/igorhvr/tmp/datomic/datomic-free-0.8.3551/lib/protobuf-java-2.4.1.jar:/home/igorhvr/tmp/datomic/datomic-free-0.8.3551/lib/joda-time-2.0.jar:/home/igorhvr/tmp/datomic/datomic-free-0.8.3551/lib/infinispan-core-5.1.2.FINAL.jar:/home/igorhvr/tmp/datomic/datomic-free-0.8.3551/lib/netty-3.2.4.Final.jar:/home/igorhvr/tmp/datomic/datomic-free-0.8.3551/lib/aws-java-sdk-1.3.0.jar:/home/igorhvr/tmp/datomic/datomic-free-0.8.3551/lib/jarjar-1.1.jar:/home/igorhvr/tmp/datomic/datomic-free-0.8.3551/lib/rhino-1.7R3.jar:/home/igorhvr/tmp/datomic/datomic-free-0.8.3551/lib/jboss-marshalling-river-1.3.6.GA.jar:/home/igorhvr/tmp/datomic/datomic-free-0.8.3551/lib/bsh-2.1b5.jar:/home/igorhvr/tmp/datomic/datomic-free-0.8.3551/lib/commons-codec-1.3.jar:/home/igorhvr/tmp/datomic/datomic-free-0.8.3551/lib/netty-3.4.4.Final.jar:/home/igorhvr/tmp/datomic/datomic-free-0.8.3551/lib/tomcat-jdbc-7.0.27.jar:/home/igorhvr/tmp/datomic/datomic-free-0.8.3551/lib/jsr305-1.3.9.jar:/home/igorhvr/tmp/datomic/datomic-free-0.8.3551/lib/woodstox-core-asl-4.1.1.jar:/home/igorhvr/tmp/datomic/datomic-free-0.8.3551/lib/commons-compiler-jdk-2.6.1.jar:/home/igorhvr/tmp/datomic/datomic-free-0.8.3551/lib/junit-4.8.2.jar:/home/igorhvr/tmp/datomic/datomic-free-0.8.3551/lib/slf4j-api-1.6.2.jar:/home/igorhvr/tmp/datomic/datomic-free-0.8.3551/lib/stax2-api-3.1.1.jar:/home/igorhvr/tmp/datomic/datomic-free-0.8.3551/lib/java-xmlbuilder-0.4.jar:/home/igorhvr/tmp/datomic/datomic-free-0.8.3551/lib/jetty-continuation-7.6.5.v20120716.jar:/home/igorhvr/tmp/datomic/datomic-free-0.8.3551/lib/postgresql-9.1-901.jdbc4.jar:/home/igorhvr/tmp/datomic/datomic-free-0.8.3551/lib/google-closure-library-0.0-1376.jar:/home/igorhvr/tmp/datomic/datomic-free-0.8.3551/lib/ring-core-1.1.1.jar:/home/igorhvr/tmp/datomic/datomic-free-0.8.3551/lib/tools.trace-0.7.3.jar:/home/igorhvr/tmp/datomic/datomic-free-0.8.3551/lib/commons-httpclient-3.1.jar:/home/igorhvr/tmp/datomic/datomic-free-0.8.3551/lib/h2-1.3.165.jar:/home/igorhvr/tmp/datomic/datomic-free-0.8.3551/lib/ring-devel-1.1.1.jar:/home/igorhvr/tmp/datomic/datomic-free-0.8.3551/lib/closure-compiler-r1918.jar:/home/igorhvr/tmp/datomic/datomic-free-0.8.3551/lib/jetty-io-7.6.5.v20120716.jar:/home/igorhvr/tmp/datomic/datomic-free-0.8.3551/lib/jline-0.9.9.jar:/home/igorhvr/tmp/datomic/datomic-free-0.8.3551/lib/java.classpath-0.1.1.jar:/home/igorhvr/tmp/datomic/datomic-free-0.8.3551/lib/jboss-marshalling-1.3.6.GA.jar:/home/igorhvr/tmp/datomic/datomic-free-0.8.3551/lib/clj-time-0.3.7.jar:/home/igorhvr/tmp/datomic/datomic-free-0.8.3551/lib/ring-servlet-1.1.1.jar:/home/igorhvr/tmp/datomic/datomic-free-0.8.3551/lib/hornetq-core-2.2.2.Final.jar:/home/igorhvr/tmp/datomic/datomic-free-0.8.3551/lib/javax.servlet-2.5.0.v201103041518.jar:/home/igorhvr/tmp/datomic/datomic-free-0.8.3551/lib/commons-compiler-2.6.1.jar:/home/igorhvr/tmp/datomic/datomic-free-0.8.3551/lib/commons-io-2.1.jar:/home/igorhvr/tmp/datomic/datomic-free-0.8.3551/lib/jcl-over-slf4j-1.6.4.jar:/home/igorhvr/tmp/datomic/datomic-free-0.8.3551/lib/jboss-logging-3.1.0.CR2.jar:/home/igorhvr/tmp/datomic/datomic-free-0.8.3551/lib/clojurescript-0.0-1236.jar:/home/igorhvr/tmp/datomic/datomic-free-0.8.3551/lib/ant-1.8.2.jar:/home/igorhvr/tmp/datomic/datomic-free-0.8.3551/lib/jetty-http-7.6.5.v20120716.jar:/home/igorhvr/tmp/datomic/datomic-free-0.8.3551/lib/tools.namespace-0.1.1.jar:/home/igorhvr/tmp/datomic/datomic-free-0.8.3551/lib/jline-win-1.0.jar:/home/igorhvr/tmp/datomic/datomic-free-0.8.3551/lib/jboss-transaction-api_1.1_spec-1.0.0.Final.jar:/home/igorhvr/tmp/datomic/datomic-free-0.8.3551/lib/ns-tracker-0.1.1.jar:/home/igorhvr/tmp/datomic/datomic-free-0.8.3551/lib/clojure-1.4.0.jar:/home/igorhvr/tmp/datomic/datomic-free-0.8.3551/lib/jets3t-0.8.1.jar:/home/igorhvr/tmp/datomic/datomic-free-0.8.3551/lib/jetty-util-7.6.5.v20120716.jar:/home/igorhvr/tmp/datomic/datomic-free-0.8.3551/lib/tagsoup-1.2.jar:/home/igorhvr/tmp/datomic/datomic-free-0.8.3551/lib/logback-core-1.0.1.jar:/home/igorhvr/tmp/datomic/datomic-free-0.8.3551/lib/servlet-api-2.5.jar:/home/igorhvr/tmp/datomic/datomic-free-0.8.3551/lib/json-20090211.jar:/home/igorhvr/tmp/datomic/datomic-free-0.8.3551/lib/tomcat-juli-7.0.27.jar:/home/igorhvr/tmp/datomic/datomic-free-0.8.3551/lib/commons-fileupload-1.2.1.jar:/home/igorhvr/tmp/datomic/datomic-free-0.a8.3551/lib/jetty-server-7.6.5.v20120716.jar:/home/igorhvr/tmp/datomic/datomic-free-0.8.3551/lib/ring-1.1.1.jar:/home/igorhvr/tmp/datomic/datomic-free-0.8.3551/lib/liberator-0.5.0.jar:/home/igorhvr/tmp/datomic/datomic-free-0.8.3551/lib/tools.logging-0.2.3.jar:/home/igorhvr/tmp/datomic/datomic-free-0.8.3551/lib/hiccup-1.0.1.jar:/home/igorhvr/tmp/datomic/datomic-free-0.8.3551/lib/test.generative-0.1.9.jar:/home/igorhvr/tmp/datomic/datomic-free-0.8.3551/lib/ant-launcher-1.8.2.jar:/home/igorhvr/tmp/datomic/datomic-free-0.8.3551/lib/args4j-2.0.12.jar:/home/igorhvr/tmp/datomic/datomic-free-0.8.3551/lib/jul-to-slf4j-1.6.4.jar:/home/igorhvr/tmp/datomic/datomic-free-0.8.3551/lib/lucene-core-3.3.0.jar:/home/igorhvr/tmp/datomic/datomic-free-0.8.3551/lib/jetty-security-7.6.5.v20120716.jar:/home/igorhvr/tmp/datomic/datomic-free-0.8.3551/lib/enlive-1.0.1.jar:/home/igorhvr/tmp/datomic/datomic-free-0.8.3551/lib/infinispan-client-hotrod-5.1.2.FINAL.jar:/home/igorhvr/tmp/datomic/datomic-free-0.8.3551/lib/jgroups-3.0.6.Final.jar:/home/igorhvr/tmp/datomic/datomic-free-0.8.3551/lib/data.json-0.1.2.jar:/home/igorhvr/tmp/datomic/datomic-free-0.8.3551/lib/jackson-core-asl-1.8.0.jar:/home/igorhvr/tmp/datomic/datomic-free-0.8.3551/lib/logback-classic-1.0.1.jar:/home/igorhvr/tmp/datomic/datomic-free-0.8.3551/lib/clj-stacktrace-0.2.4.jar:/home/igorhvr/tmp/datomic/datomic-free-0.8.3551/datomic-free-0.8.3551.jar:/home/igorhvr/sisc/sisc.jar:/home/igorhvr/sisc/sisc-opt.jar:/home/igorhvr/sisc/sisc-lib.jar:/home/igorhvr/sisc/sisc.shp:/home/igorhvr/sisc/

# We run the clojure repl first (to ensure it loads readers/etc properly), and run sisc from inside it afterwards.
java -DsocksProxyHost=localhost -DsocksProxyPort=8888 -Xmx1G clojure.main 
(sisc.REPL/main (into-array [""]))
(begin (define iasylum-bedlam-location "/home/igorhvr/idm/bedlam/") (load (string-append iasylum-bedlam-location "iasylum/init.scm")))
;; or (load "/home/igorhvr/idm/i/i.scm")
;; This will open 3 repls, at 6000 (clojure), at 3000 (sisc) and at 3001 (beanshell).
(require-extension (lib iasylum/clojure))
(d "Clojure: " (clojure/repl-start 6000) "\n")
(j "iu.M.i();")
